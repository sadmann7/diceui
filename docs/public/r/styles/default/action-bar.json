{
  "name": "action-bar",
  "type": "registry:ui",
  "dependencies": [
    "@radix-ui/react-slot"
  ],
  "registryDependencies": [
    "button"
  ],
  "files": [
    {
      "path": "ui/action-bar.tsx",
      "content": "\"use client\";\n\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva } from \"class-variance-authority\";\nimport * as React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { Portal } from \"@/registry/default/components/portal\";\n\ninterface ActionBarContextValue {\n  open: boolean;\n  onOpenChange?: (open: boolean) => void;\n  side: \"top\" | \"bottom\";\n  align: \"start\" | \"center\" | \"end\";\n  sideOffset: number;\n}\n\nconst ActionBarContext = React.createContext<ActionBarContextValue | null>(\n  null,\n);\n\nfunction useActionBarContext(consumerName: string) {\n  const context = React.useContext(ActionBarContext);\n  if (!context) {\n    throw new Error(`\\`${consumerName}\\` must be used within \\`ActionBar\\``);\n  }\n  return context;\n}\n\ninterface ActionBarRootProps extends React.ComponentProps<\"div\"> {\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  side?: \"top\" | \"bottom\";\n  align?: \"start\" | \"center\" | \"end\";\n  sideOffset?: number;\n  asChild?: boolean;\n}\n\nfunction ActionBarRoot(props: ActionBarRootProps) {\n  const {\n    open = false,\n    onOpenChange,\n    side = \"bottom\",\n    align = \"center\",\n    sideOffset = 16,\n    asChild,\n    className,\n    style,\n    ...rootProps\n  } = props;\n\n  const contextValue = React.useMemo<ActionBarContextValue>(\n    () => ({\n      open,\n      onOpenChange,\n      side,\n      align,\n      sideOffset,\n    }),\n    [open, onOpenChange, side, align, sideOffset],\n  );\n\n  if (!open) return null;\n\n  const RootPrimitive = asChild ? Slot : \"div\";\n\n  return (\n    <ActionBarContext.Provider value={contextValue}>\n      <Portal>\n        <RootPrimitive\n          data-slot=\"action-bar\"\n          data-state={open ? \"open\" : \"closed\"}\n          data-side={side}\n          data-align={align}\n          {...rootProps}\n          className={cn(\n            \"fixed z-50 flex items-center gap-1 rounded-lg border bg-card px-2 py-1.5 shadow-lg\",\n            \"data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=open]:animate-in data-[state=open]:duration-250\",\n            \"data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=closed]:animate-out data-[state=closed]:duration-200\",\n            \"data-[side=bottom]:data-[state=open]:slide-in-from-bottom-4 data-[side=bottom]:data-[state=closed]:slide-out-to-bottom-4\",\n            \"data-[side=top]:data-[state=open]:slide-in-from-top-4 data-[side=top]:data-[state=closed]:slide-out-to-top-4\",\n            \"motion-reduce:animate-none motion-reduce:transition-none\",\n            className,\n          )}\n          style={{\n            [side]: `${sideOffset}px`,\n            ...(align === \"center\" && {\n              left: \"50%\",\n              translate: \"-50% 0\",\n            }),\n            ...(align === \"start\" && { left: `${sideOffset}px` }),\n            ...(align === \"end\" && { right: `${sideOffset}px` }),\n            animationTimingFunction: \"cubic-bezier(0.16, 1, 0.3, 1)\",\n            ...style,\n          }}\n        />\n      </Portal>\n    </ActionBarContext.Provider>\n  );\n}\n\ninterface ActionBarSelectionProps extends React.ComponentProps<\"div\"> {\n  asChild?: boolean;\n}\n\nfunction ActionBarSelection(props: ActionBarSelectionProps) {\n  const { asChild, className, ...selectionProps } = props;\n\n  const SelectionPrimitive = asChild ? Slot : \"div\";\n\n  return (\n    <SelectionPrimitive\n      data-slot=\"action-bar-selection\"\n      {...selectionProps}\n      className={cn(\n        \"flex items-center gap-2 rounded-sm border border-dotted px-2 py-1 font-medium text-sm\",\n        className,\n      )}\n    />\n  );\n}\n\nfunction ActionBarItem(props: React.ComponentProps<typeof Button>) {\n  const { ...itemProps } = props;\n\n  return (\n    <Button\n      data-slot=\"action-bar-item\"\n      {...itemProps}\n      variant=\"secondary\"\n      size=\"sm\"\n    />\n  );\n}\n\ninterface ActionBarCloseProps extends React.ComponentProps<\"button\"> {\n  asChild?: boolean;\n}\n\nfunction ActionBarClose(props: ActionBarCloseProps) {\n  const { asChild, className, onClick, ...closeProps } = props;\n\n  const { onOpenChange } = useActionBarContext(\"ActionBarClose\");\n\n  const onCloseClick = React.useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      onClick?.(event);\n      if (event.defaultPrevented) return;\n\n      onOpenChange?.(false);\n    },\n    [onOpenChange, onClick],\n  );\n\n  const ClosePrimitive = asChild ? Slot : \"button\";\n\n  return (\n    <ClosePrimitive\n      type=\"button\"\n      data-slot=\"action-bar-close\"\n      {...closeProps}\n      className={cn(\n        \"[&_svg:not([class*='size-'])]:size-3.5 [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n        className,\n      )}\n      onClick={onCloseClick}\n    />\n  );\n}\n\ninterface ActionBarSeparatorProps extends React.ComponentProps<\"div\"> {\n  asChild?: boolean;\n}\n\nfunction ActionBarSeparator(props: ActionBarSeparatorProps) {\n  const { asChild, className, ...separatorProps } = props;\n\n  const SeparatorPrimitive = asChild ? Slot : \"div\";\n\n  return (\n    <SeparatorPrimitive\n      role=\"separator\"\n      aria-orientation=\"vertical\"\n      data-slot=\"action-bar-separator\"\n      {...separatorProps}\n      className={cn(\"mx-1 h-6 w-px bg-border\", className)}\n    />\n  );\n}\n\nexport {\n  ActionBarRoot as Root,\n  ActionBarSelection as Selection,\n  ActionBarItem as Item,\n  ActionBarClose as Close,\n  ActionBarSeparator as Separator,\n  //\n  ActionBarRoot as ActionBar,\n  ActionBarSelection,\n  ActionBarItem,\n  ActionBarClose,\n  ActionBarSeparator,\n};\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "components/portal.tsx",
      "content": "\"use client\";\n\nimport { Slot, type SlotProps } from \"@radix-ui/react-slot\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\ninterface PortalProps extends SlotProps {\n  container?: Element | DocumentFragment | null;\n}\n\nfunction Portal(props: PortalProps) {\n  const { container: containerProp, ...portalProps } = props;\n\n  const [mounted, setMounted] = React.useState(false);\n\n  React.useLayoutEffect(() => setMounted(true), []);\n\n  const container =\n    containerProp ?? (mounted ? globalThis.document?.body : null);\n\n  if (!container) return null;\n\n  return ReactDOM.createPortal(<Slot {...portalProps} />, container);\n}\n\nexport { Portal };\n\nexport type { PortalProps };\n",
      "type": "registry:component",
      "target": ""
    }
  ]
}