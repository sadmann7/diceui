{
  "name": "segmented-input",
  "type": "registry:ui",
  "dependencies": [
    "@radix-ui/react-slot",
    "class-variance-authority"
  ],
  "registryDependencies": [
    "input"
  ],
  "files": [
    {
      "path": "ui/segmented-input.tsx",
      "content": "\"use client\";\n\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport * as React from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { cn } from \"@/lib/utils\";\n\nconst ROOT_NAME = \"SegmentedInput\";\nconst ITEM_NAME = \"SegmentedInputItem\";\n\ntype Direction = \"ltr\" | \"rtl\";\n\nconst DirectionContext = React.createContext<Direction | undefined>(undefined);\n\nfunction useDirection(dirProp?: Direction): Direction {\n  const contextDir = React.useContext(DirectionContext);\n  return dirProp ?? contextDir ?? \"ltr\";\n}\n\ninterface SegmentedInputContextValue {\n  dir?: Direction;\n  orientation?: \"horizontal\" | \"vertical\";\n  size?: \"sm\" | \"default\" | \"lg\";\n  disabled?: boolean;\n  invalid?: boolean;\n  required?: boolean;\n}\n\nconst SegmentedInputContext =\n  React.createContext<SegmentedInputContextValue | null>(null);\nSegmentedInputContext.displayName = ROOT_NAME;\n\nfunction useSegmentedInputContext(consumerName: string) {\n  const context = React.useContext(SegmentedInputContext);\n  if (!context) {\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${ROOT_NAME}\\``);\n  }\n  return context;\n}\n\ninterface SegmentedInputProps extends React.ComponentProps<\"div\"> {\n  id?: string;\n  dir?: Direction;\n  orientation?: \"horizontal\" | \"vertical\";\n  size?: \"sm\" | \"default\" | \"lg\";\n  asChild?: boolean;\n  disabled?: boolean;\n  invalid?: boolean;\n  required?: boolean;\n}\n\nfunction SegmentedInput(props: SegmentedInputProps) {\n  const {\n    dir: dirProp,\n    orientation = \"horizontal\",\n    size = \"default\",\n    className,\n    asChild,\n    disabled,\n    invalid,\n    required,\n    ...rootProps\n  } = props;\n\n  const id = React.useId();\n  const dir = useDirection(dirProp);\n\n  const contextValue = React.useMemo<SegmentedInputContextValue>(\n    () => ({\n      dir,\n      orientation,\n      size,\n      disabled,\n      invalid,\n      required,\n    }),\n    [dir, orientation, size, disabled, invalid, required],\n  );\n\n  const RootPrimitive = asChild ? Slot : \"div\";\n\n  return (\n    <SegmentedInputContext.Provider value={contextValue}>\n      <RootPrimitive\n        role=\"group\"\n        aria-orientation={orientation}\n        data-slot=\"segmented-input\"\n        data-orientation={orientation}\n        data-disabled={disabled ? \"\" : undefined}\n        data-invalid={invalid ? \"\" : undefined}\n        data-required={required ? \"\" : undefined}\n        {...rootProps}\n        id={id}\n        dir={dir}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"flex-row\" : \"flex-col\",\n          className,\n        )}\n      />\n    </SegmentedInputContext.Provider>\n  );\n}\n\nconst segmentedInputItemVariants = cva(\"\", {\n  variants: {\n    position: {\n      first: \"rounded-e-none\",\n      middle: \"-ms-px rounded-none border-l-0\",\n      last: \"-ms-px rounded-s-none border-l-0\",\n      isolated: \"\",\n    },\n    orientation: {\n      horizontal: \"\",\n      vertical: \"\",\n    },\n  },\n  compoundVariants: [\n    {\n      position: \"first\",\n      orientation: \"vertical\",\n      class: \"ms-0 rounded-e-md rounded-b-none border-l\",\n    },\n    {\n      position: \"middle\",\n      orientation: \"vertical\",\n      class: \"-mt-px ms-0 rounded-none border-t-0 border-l\",\n    },\n    {\n      position: \"last\",\n      orientation: \"vertical\",\n      class: \"-mt-px ms-0 rounded-s-md rounded-t-none border-t-0 border-l\",\n    },\n  ],\n  defaultVariants: {\n    position: \"isolated\",\n    orientation: \"horizontal\",\n  },\n});\n\ninterface SegmentedInputItemProps\n  extends React.ComponentProps<\"input\">,\n    VariantProps<typeof segmentedInputItemVariants> {\n  asChild?: boolean;\n}\n\nfunction SegmentedInputItem(props: SegmentedInputItemProps) {\n  const { asChild, className, position, disabled, required, ...inputProps } =\n    props;\n  const context = useSegmentedInputContext(ITEM_NAME);\n\n  const isDisabled = disabled ?? context.disabled;\n  const isRequired = required ?? context.required;\n\n  const InputPrimitive = asChild ? Slot : Input;\n\n  return (\n    <InputPrimitive\n      data-slot=\"segmented-input-item\"\n      data-position={position}\n      data-orientation={context.orientation}\n      data-disabled={isDisabled ? \"\" : undefined}\n      data-invalid={context.invalid ? \"\" : undefined}\n      data-required={isRequired ? \"\" : undefined}\n      aria-invalid={context.invalid}\n      aria-required={isRequired}\n      disabled={isDisabled}\n      required={isRequired}\n      {...inputProps}\n      className={cn(\n        segmentedInputItemVariants({\n          position,\n          orientation: context.orientation,\n        }),\n        className,\n      )}\n    />\n  );\n}\n\nexport { SegmentedInput, SegmentedInputItem };\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}