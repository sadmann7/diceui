{
  "name": "timeline",
  "type": "registry:ui",
  "dependencies": [
    "@radix-ui/react-slot",
    "class-variance-authority"
  ],
  "files": [
    {
      "path": "ui/timeline.tsx",
      "content": "\"use client\";\n\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva } from \"class-variance-authority\";\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype Direction = \"ltr\" | \"rtl\";\ntype Orientation = \"vertical\" | \"horizontal\";\n\ninterface DivProps extends React.ComponentProps<\"div\"> {\n  asChild?: boolean;\n}\n\nconst ROOT_NAME = \"Timeline\";\nconst ITEM_NAME = \"TimelineItem\";\nconst DOT_NAME = \"TimelineDot\";\nconst CONNECTOR_NAME = \"TimelineConnector\";\n\nconst DirectionContext = React.createContext<Direction | undefined>(undefined);\n\nfunction useDirection(dirProp?: Direction): Direction {\n  const contextDir = React.useContext(DirectionContext);\n  return dirProp ?? contextDir ?? \"ltr\";\n}\n\ninterface TimelineContextValue {\n  dir: Direction;\n  orientation: Orientation;\n  value: number;\n  getNextIndex: () => number;\n}\n\nconst TimelineContext = React.createContext<TimelineContextValue | null>(null);\n\nfunction useTimelineContext(consumerName: string) {\n  const context = React.useContext(TimelineContext);\n  if (!context) {\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${ROOT_NAME}\\``);\n  }\n  return context;\n}\n\nconst timelineVariants = cva(\"relative flex list-none\", {\n  variants: {\n    orientation: {\n      vertical: \"flex-col gap-6\",\n      horizontal: \"flex-row items-start gap-8\",\n    },\n  },\n  defaultVariants: {\n    orientation: \"vertical\",\n  },\n});\n\ninterface TimelineRootProps extends React.ComponentProps<\"ol\"> {\n  dir?: Direction;\n  orientation?: Orientation;\n  value?: number;\n  asChild?: boolean;\n}\n\nfunction TimelineRoot(props: TimelineRootProps) {\n  const {\n    orientation = \"vertical\",\n    value = -1,\n    dir: dirProp,\n    asChild,\n    className,\n    ...rootProps\n  } = props;\n\n  const dir = useDirection(dirProp);\n  const indexRef = React.useRef(-1);\n\n  const getNextIndex = React.useCallback(() => {\n    indexRef.current += 1;\n    return indexRef.current;\n  }, []);\n\n  const contextValue = React.useMemo<TimelineContextValue>(\n    () => ({ dir, orientation, value, getNextIndex }),\n    [dir, orientation, value, getNextIndex],\n  );\n\n  const RootPrimitive = asChild ? Slot : \"ol\";\n\n  return (\n    <TimelineContext.Provider value={contextValue}>\n      <RootPrimitive\n        aria-orientation={orientation}\n        data-orientation={orientation}\n        data-slot=\"timeline\"\n        {...rootProps}\n        dir={dir}\n        className={cn(timelineVariants({ orientation }), className)}\n      />\n    </TimelineContext.Provider>\n  );\n}\n\ninterface TimelineItemContextValue {\n  isCompleted: boolean;\n  isActive: boolean;\n}\n\nconst TimelineItemContext =\n  React.createContext<TimelineItemContextValue | null>(null);\n\nfunction useTimelineItemContext(consumerName: string) {\n  const context = React.useContext(TimelineItemContext);\n  if (!context) {\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${ITEM_NAME}\\``);\n  }\n  return context;\n}\n\ninterface TimelineItemProps extends React.ComponentProps<\"li\"> {\n  asChild?: boolean;\n}\n\nfunction TimelineItem(props: TimelineItemProps) {\n  const { asChild, className, ...itemProps } = props;\n\n  const { dir, orientation, value, getNextIndex } =\n    useTimelineContext(ITEM_NAME);\n\n  const indexRef = React.useRef<number | undefined>(undefined);\n  if (indexRef.current === undefined) {\n    indexRef.current = getNextIndex();\n  }\n\n  const isCompleted = indexRef.current <= value;\n  const isActive = indexRef.current === value;\n\n  const itemContextValue = React.useMemo<TimelineItemContextValue>(\n    () => ({ isCompleted, isActive }),\n    [isCompleted, isActive],\n  );\n\n  const ItemPrimitive = asChild ? Slot : \"li\";\n\n  return (\n    <TimelineItemContext.Provider value={itemContextValue}>\n      <ItemPrimitive\n        data-slot=\"timeline-item\"\n        data-completed={isCompleted}\n        data-active={isActive}\n        data-orientation={orientation}\n        dir={dir}\n        {...itemProps}\n        className={cn(\n          \"relative\",\n          orientation === \"vertical\" && \"flex gap-3 pb-6 last:pb-0\",\n          orientation === \"horizontal\" && \"flex flex-col gap-3\",\n          className,\n        )}\n      />\n    </TimelineItemContext.Provider>\n  );\n}\n\ninterface TimelineDotProps extends DivProps {\n  asChild?: boolean;\n}\n\nfunction TimelineDot(props: TimelineDotProps) {\n  const { asChild, className, ...dotProps } = props;\n\n  const { orientation } = useTimelineContext(DOT_NAME);\n  const { isCompleted, isActive } = useTimelineItemContext(DOT_NAME);\n\n  const DotPrimitive = asChild ? Slot : \"div\";\n\n  return (\n    <div className=\"relative flex shrink-0 items-center justify-center\">\n      <DotPrimitive\n        data-slot=\"timeline-dot\"\n        data-completed={isCompleted}\n        data-active={isActive}\n        data-orientation={orientation}\n        {...dotProps}\n        className={cn(\n          \"absolute z-10 flex size-3 items-center justify-center rounded-full border-2 bg-background\",\n          isCompleted && \"border-primary bg-primary/10\",\n          isActive && \"ring-2 ring-ring ring-offset-2 ring-offset-background\",\n          !isCompleted && \"border-border\",\n          className,\n        )}\n      />\n    </div>\n  );\n}\n\ninterface TimelineConnectorProps extends DivProps {\n  asChild?: boolean;\n}\n\nfunction TimelineConnector(props: TimelineConnectorProps) {\n  const { asChild, className, ...connectorProps } = props;\n\n  const { orientation } = useTimelineContext(CONNECTOR_NAME);\n  const { isCompleted, isActive } = useTimelineItemContext(CONNECTOR_NAME);\n\n  const ConnectorPrimitive = asChild ? Slot : \"div\";\n\n  return (\n    <ConnectorPrimitive\n      aria-hidden=\"true\"\n      data-slot=\"timeline-connector\"\n      data-completed={isCompleted}\n      data-active={isActive}\n      data-orientation={orientation}\n      {...connectorProps}\n      className={cn(\n        \"absolute last:hidden\",\n        isCompleted ? \"bg-primary/30\" : \"bg-border\",\n        orientation === \"vertical\" &&\n          \"start-[5px] top-3 h-[calc(100%+1.5rem)] w-[2px]\",\n        orientation === \"horizontal\" &&\n          \"start-3 top-[5px] h-[2px] w-[calc(100%+2rem)]\",\n        className,\n      )}\n    />\n  );\n}\n\ninterface TimelineHeaderProps extends DivProps {\n  asChild?: boolean;\n}\n\nfunction TimelineHeader(props: TimelineHeaderProps) {\n  const { asChild, className, ...headerProps } = props;\n\n  const HeaderPrimitive = asChild ? Slot : \"div\";\n\n  return (\n    <HeaderPrimitive\n      data-slot=\"timeline-header\"\n      {...headerProps}\n      className={cn(\"flex flex-col gap-1\", className)}\n    />\n  );\n}\n\ninterface TimelineTitleProps extends DivProps {\n  asChild?: boolean;\n}\n\nfunction TimelineTitle(props: TimelineTitleProps) {\n  const { asChild, className, ...titleProps } = props;\n\n  const TitlePrimitive = asChild ? Slot : \"div\";\n\n  return (\n    <TitlePrimitive\n      data-slot=\"timeline-title\"\n      {...titleProps}\n      className={cn(\"font-semibold leading-none\", className)}\n    />\n  );\n}\n\ninterface TimelineDescriptionProps extends DivProps {\n  asChild?: boolean;\n}\n\nfunction TimelineDescription(props: TimelineDescriptionProps) {\n  const { asChild, className, ...descriptionProps } = props;\n\n  const DescriptionPrimitive = asChild ? Slot : \"div\";\n\n  return (\n    <DescriptionPrimitive\n      data-slot=\"timeline-description\"\n      {...descriptionProps}\n      className={cn(\"text-muted-foreground text-sm\", className)}\n    />\n  );\n}\n\ninterface TimelineContentProps extends DivProps {\n  asChild?: boolean;\n}\n\nfunction TimelineContent(props: TimelineContentProps) {\n  const { asChild, className, ...contentProps } = props;\n\n  const ContentPrimitive = asChild ? Slot : \"div\";\n\n  return (\n    <ContentPrimitive\n      data-slot=\"timeline-content\"\n      {...contentProps}\n      className={cn(\"flex-1 pt-0.5\", className)}\n    />\n  );\n}\n\ninterface TimelineTimeProps extends React.ComponentProps<\"time\"> {\n  asChild?: boolean;\n}\n\nfunction TimelineTime(props: TimelineTimeProps) {\n  const { asChild, className, ...timeProps } = props;\n\n  const TimePrimitive = asChild ? Slot : \"time\";\n\n  return (\n    <TimePrimitive\n      data-slot=\"timeline-time\"\n      {...timeProps}\n      className={cn(\"text-muted-foreground text-xs\", className)}\n    />\n  );\n}\n\nexport {\n  TimelineRoot as Root,\n  TimelineItem as Item,\n  TimelineDot as Dot,\n  TimelineConnector as Connector,\n  TimelineHeader as Header,\n  TimelineTitle as Title,\n  TimelineDescription as Description,\n  TimelineContent as Content,\n  TimelineTime as Time,\n  //\n  TimelineRoot as Timeline,\n  TimelineItem,\n  TimelineDot,\n  TimelineConnector,\n  TimelineHeader,\n  TimelineTitle,\n  TimelineDescription,\n  TimelineContent,\n  TimelineTime,\n};\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}