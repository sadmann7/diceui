---
title: Composition
description: A collection of utility functions for composing event handlers and refs in React components.
links:
  api: /docs/utilities/composition#api-reference
---

## Installation

### CLI

```package-install
npx shadcn@latest add "https://diceui.com/r/composition"
```

### Manual

<Steps>
  <Step>
    Copy and paste the following code into your project.

    <ComponentSource src="./lib/compose-refs.ts" />
  </Step>
</Steps>

## Usage

### Composing Refs

#### useComposedRefs

```tsx
import { useComposedRefs } from "@/lib/compose-refs"

export function Input({ forwardedRef, ...props }) {
  const localRef = React.useRef(null)
  const composedRefs = useComposedRefs(forwardedRef, localRef)

  return <input ref={composedRefs} {...props} />
}
```

#### composeRefs

```tsx
import { composeRefs } from "@/lib/compose-refs"

export function Input({ forwardedRef, ...props }) {
  const localRef = React.useRef(null)
  const composedRefs = composeRefs(forwardedRef, localRef)

  return <input ref={composedRefs} {...props} />
} 
```

## API Reference

### composeRefs

A utility function that composes multiple refs together.

<AutoTypeTable
  path="./types/docs/utilities.ts"
  name="ComposeRefsProps"
/>

### useComposedRefs

A React hook that composes multiple refs together.

<AutoTypeTable
  path="./types/docs/utilities.ts"
  name="UseComposedRefsProps"
/>

## Credits

- [Radix UI](https://github.com/radix-ui/primitives/blob/main/packages/react/compose-refs/src/compose-refs.tsx) - For the `composeRefs` and `useComposedRefs` utilities.
