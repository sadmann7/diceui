---
title: Composition
description: A collection of utility functions for composing event handlers and refs in React components.
links:
  api: /docs/utilities/composition#api-reference
---

## Installation

### CLI

```package-install
npx shadcn@latest add "https://diceui.com/r/composition"
```

### Manual

<Steps>
  <Step>
    Copy and paste the following code into your project.

    <ComponentSource src="./lib/composition.ts" />
  </Step>
</Steps>

## Usage

### Composing Event Handlers

```tsx
import { composeEventHandlers } from "@/lib/composition"

export function Button({ onClick, ...props }) {
  const handleClick = composeEventHandlers(onClick, (event) => {
    console.log("Button clicked")
  })

  return <button onClick={handleClick} {...props} />
}
```

### Composing Refs

```tsx
import { useComposedRefs } from "@/lib/composition"

export function Input({ forwardedRef, ...props }) {
  const localRef = React.useRef(null)
  const composedRefs = useComposedRefs(forwardedRef, localRef)

  return <input ref={composedRefs} {...props} />
}
```

## API Reference

### composeEventHandlers

A utility function that composes two event handlers into a single handler.

<AutoTypeTable
  path="./types/docs/utilities.ts"
  name="ComposeEventHandlersProps"
/>

### composeRefs

A utility function that composes multiple refs together.

<AutoTypeTable
  path="./types/docs/utilities.ts"
  name="ComposeRefsProps"
/>

### useComposedRefs

A React hook that composes multiple refs together.

<AutoTypeTable
  path="./types/docs/utilities.ts"
  name="UseComposedRefsProps"
/>

## Credits

- [Radix UI](https://github.com/radix-ui/primitives/blob/main/packages/core/primitive/src/primitive.tsx) - For the `composeEventHandlers` utility.
- [Radix UI](https://github.com/radix-ui/primitives/blob/main/packages/react/compose-refs/src/compose-refs.tsx) - For the `composeRefs` and `useComposedRefs` utilities.
