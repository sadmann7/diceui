---
title: Data Grid
description: A high-performance editable data grid component with virtualization, keyboard navigation, and cell editing capabilities.
preview: true
links:
  doc: https://tanstack.com/table/latest/docs/introduction
  api: /docs/components/data-grid#api-reference
---

<ComponentTabs name="data-grid-demo" />

## Installation

<Steps>
  <Step>
    Install the components and dependencies:

    ```package-install
    npx shadcn@2.4.0-canary.12 add "https://diceui.com/r/data-grid"
    ```
  </Step>
</Steps>

## Features

The Data Grid component provides a comprehensive spreadsheet-like experience with:

- **High Performance**: Virtualized rows and columns for handling large datasets
- **Cell Editing**: In-place editing with various cell types (text, number, select, date, etc.)
- **Keyboard Navigation**: Full keyboard support with Excel-like shortcuts
- **Context Menu**: Right-click actions for rows and cells
- **Sorting & Filtering**: Built-in sorting and search capabilities
- **Row Management**: Add, delete, and reorder rows
- **Column Resizing**: Adjustable column widths
- **Selection**: Single and multi-cell selection
- **Copy/Paste**: Clipboard operations support

## Basic Usage

```tsx
import type { ColumnDef } from "@tanstack/react-table";
import * as React from "react";
import { DataGrid } from "@/components/data-grid/data-grid";
import { useDataGrid } from "@/hooks/use-data-grid";

interface Person {
  id: string;
  name: string;
  email: string;
  age: number;
  status: "active" | "inactive";
}

const data: Person[] = [
  {
    id: "1",
    name: "John Doe",
    email: "john@example.com",
    age: 30,
    status: "active",
  },
  // ... more data
];

export default function DataGridDemo() {
  const [gridData, setGridData] = React.useState<Person[]>(data);

  const columns = React.useMemo<ColumnDef<Person>[]>(() => [
    {
      id: "name",
      accessorKey: "name",
      header: "Name",
      meta: {
        label: "Name",
        cell: {
          variant: "short-text",
        },
      },
    },
    {
      id: "email",
      accessorKey: "email",
      header: "Email",
      meta: {
        label: "Email",
        cell: {
          variant: "short-text",
        },
      },
    },
    {
      id: "age",
      accessorKey: "age",
      header: "Age",
      meta: {
        label: "Age",
        cell: {
          variant: "number",
          min: 0,
          max: 120,
        },
      },
    },
    {
      id: "status",
      accessorKey: "status",
      header: "Status",
      meta: {
        label: "Status",
        cell: {
          variant: "select",
          options: [
            { label: "Active", value: "active" },
            { label: "Inactive", value: "inactive" },
          ],
        },
      },
    },
  ], []);

  const { table, ...gridProps } = useDataGrid({
    data: gridData,
    columns,
    onDataChange: setGridData,
    getRowId: (row) => row.id,
  });

  return (
    <div className="h-[600px] w-full">
      <DataGrid table={table} {...gridProps} />
    </div>
  );
}
```

## Sort Menu

The [`DataGridSortMenu`](#datagridsortmenu) provides sorting capabilities with drag-and-drop reordering.

### Features
- Multiple column sorting
- Drag and drop reordering
- Ascending and descending directions

### Installation

```package-install
npx shadcn@2.4.0-canary.12 add "https://diceui.com/r/data-grid-sort-menu"
```

## Row Height Menu

The [`DataGridRowHeightMenu`](#datagridrowheightmenu) allows users to adjust row heights for better data visibility.

### Features
- Multiple row height options (short, medium, tall, extra-tall)
- Persistent height settings
- Smooth transitions

### Installation

```package-install
npx shadcn@2.4.0-canary.12 add "https://diceui.com/r/data-grid-row-height-menu"
```

## View Menu

The [`DataGridViewMenu`](#datagridviewmenu) provides column visibility controls.

### Features
- Toggle column visibility
- Show/hide all columns
- Column search and filtering

### Installation

```package-install
npx shadcn@2.4.0-canary.12 add "https://diceui.com/r/data-grid-view-menu"
```

## Keyboard Shortcuts

The [`DataGridKeyboardShortcuts`](#datagridkeyboardshortcuts) is a dialog component that provides a searchable reference of all available keyboard shortcuts. Unlike the toolbar components above, this component is rendered separately in your component tree and opens via keyboard shortcut.

### Features
- Comprehensive keyboard shortcut reference
- Searchable shortcut list
- Contextual shortcuts based on enabled features
- Keyboard accessible with `Ctrl+/` or `⌘+/`

### Installation

```package-install
npx shadcn@2.4.0-canary.12 add "https://diceui.com/r/data-grid-keyboard-shortcuts"
```

## Cell Architecture

The Data Grid uses a three-layer cell composition pattern:

1. **DataGridCell**: Routes to the appropriate cell variant based on the column's `meta.cell.variant` property
2. **Cell Variants**: Implement specific editing UIs for different data types (text, number, select, etc.)
3. **DataGridCellWrapper**: Provides common functionality for all cells (focus, selection, keyboard interactions)

```tsx
// Cell composition flow
<DataGridCell cell={cell} table={table} />
  ↓
<ShortTextCell {...props} />  // Based on variant
  ↓
<DataGridCellWrapper {...props}>
  {/* Cell-specific content */}
</DataGridCellWrapper>
```

Each cell variant receives the same props and wraps its content in `DataGridCellWrapper`, which handles:
- Focus management and visual focus ring
- Selection state and highlighting
- Search match highlighting
- Click, double-click, and keyboard event handling
- Edit mode triggering (Enter, F2, Space, or typing)

## Cell Types

The Data Grid supports various cell types for different data formats:

### Short Text Cell
```tsx
{
  id: "name",
  accessorKey: "name",
  header: "Name",
  meta: {
    label: "Name",
    cell: {
      variant: "short-text",
    },
  },
}
```

### Long Text Cell
```tsx
{
  id: "notes",
  accessorKey: "notes",
  header: "Notes",
  meta: {
    label: "Notes",
    cell: {
      variant: "long-text",
    },
  },
}
```

### Number Cell
```tsx
{
  id: "price",
  accessorKey: "price",
  header: "Price",
  meta: {
    label: "Price",
    cell: {
      variant: "number",
      min: 0,
      step: 0.01,
    },
  },
}
```

### Select Cell
```tsx
{
  id: "category",
  accessorKey: "category",
  header: "Category",
  meta: {
    label: "Category",
    cell: {
      variant: "select",
      options: [
        { label: "Electronics", value: "electronics" },
        { label: "Clothing", value: "clothing" },
        { label: "Books", value: "books" },
      ],
    },
  },
}
```

### Multi-Select Cell
```tsx
{
  id: "skills",
  accessorKey: "skills",
  header: "Skills",
  meta: {
    label: "Skills",
    cell: {
      variant: "multi-select",
      options: [
        { label: "JavaScript", value: "javascript" },
        { label: "TypeScript", value: "typescript" },
        { label: "React", value: "react" },
      ],
    },
  },
}
```

### Date Cell
```tsx
{
  id: "startDate",
  accessorKey: "startDate",
  header: "Start Date",
  meta: {
    label: "Start Date",
    cell: {
      variant: "date",
    },
  },
}
```

### Checkbox Cell
```tsx
{
  id: "isActive",
  accessorKey: "isActive",
  header: "Active",
  meta: {
    label: "Active",
    cell: {
      variant: "checkbox",
    },
  },
}
```

## Usage Examples

### Full Example with Toolbar Components

```tsx
import { DataGrid } from "@/components/data-grid/data-grid";
import { DataGridKeyboardShortcuts } from "@/components/data-grid/data-grid-keyboard-shortcuts";
import { DataGridSortMenu } from "@/components/data-grid/data-grid-sort-menu";
import { DataGridRowHeightMenu } from "@/components/data-grid/data-grid-row-height-menu";
import { DataGridViewMenu } from "@/components/data-grid/data-grid-view-menu";
import { useDataGrid } from "@/hooks/use-data-grid";

export default function MyDataGrid() {
  const { table, ...dataGridProps } = useDataGrid({
    data,
    columns,
    enableSearch: true,
  });

  return (
    <div className="flex flex-col gap-4">
      {/* Toolbar with menu components */}
      <div className="flex items-center gap-2 self-end">
        <DataGridSortMenu table={table} />
        <DataGridRowHeightMenu table={table} />
        <DataGridViewMenu table={table} />
      </div>
      
      {/* Keyboard shortcuts dialog (opens with Ctrl+/) */}
      <DataGridKeyboardShortcuts enableSearch={!!dataGridProps.searchState} />
      
      {/* Data grid */}
      <DataGrid table={table} {...dataGridProps} />
    </div>
  );
}
```

### Row Selection

Add a selection column to enable row selection:

```tsx
import { Checkbox } from "@/components/ui/checkbox";

const columns = [
  {
    id: "select",
    header: ({ table }) => (
      <Checkbox
        checked={
          table.getIsAllPageRowsSelected() ||
          (table.getIsSomePageRowsSelected() && "indeterminate")
        }
        onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}
      />
    ),
    cell: ({ row }) => (
      <Checkbox
        checked={row.getIsSelected()}
        onCheckedChange={(value) => row.toggleSelected(!!value)}
      />
    ),
    size: 40,
    enableSorting: false,
    enableHiding: false,
  },
  // ... other columns
];
```

### Row Management

Handle adding and deleting rows:

```tsx
const onRowAdd = React.useCallback(() => {
  const newRow = {
    id: `${Date.now()}`,
    // ... other default values
  };
  setData(prev => [...prev, newRow]);
  
  return {
    rowIndex: data.length,
    columnId: "name", // Focus this column after adding
  };
}, [data.length]);

const onRowsDelete = React.useCallback((rows) => {
  setData(prev => prev.filter(row => !rows.includes(row)));
}, []);

const { table, ...dataGridProps } = useDataGrid({
  data,
  columns,
  onRowAdd,
  onRowsDelete,
});
```

## Keyboard Navigation

The Data Grid supports Excel-like keyboard navigation:

<KeyboardShortcutsTable
  shortcuts={[
    {
      keys: ["↑", "↓", "←", "→"],
      description: "Navigate between cells",
    },
    {
      keys: ["Enter"],
      description: "Enter edit mode or confirm edit",
    },
    {
      keys: ["Escape"],
      description: "Cancel edit or exit edit mode",
    },
    {
      keys: ["Tab"],
      description: "Move to next cell (right)",
    },
    {
      keys: ["Shift", "Tab"],
      description: "Move to previous cell (left)",
    },
    {
      keys: ["Ctrl", "C"],
      description: "Copy selected cells",
    },
    {
      keys: ["Ctrl", "V"],
      description: "Paste clipboard content",
    },
    {
      keys: ["Delete"],
      description: "Clear cell content or delete selected rows",
    },
    {
      keys: ["Ctrl", "A"],
      description: "Select all cells",
    },
    {
      keys: ["Ctrl", "F"],
      description: "Open search dialog",
    },
    {
      keys: ["Ctrl", "/"],
      description: "Show keyboard shortcuts",
    },
  ]}
/>

## Context Menu Actions

Right-click on cells or rows to access context menu options:

- **Insert Row Above/Below**: Add new rows
- **Delete Row(s)**: Remove selected rows
- **Copy/Cut/Paste**: Clipboard operations
- **Sort Ascending/Descending**: Sort by column
- **Filter**: Apply column filters
- **Hide Column**: Toggle column visibility

## API Reference

### useDataGrid

A hook for initializing the data grid with state management and editing capabilities.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="UseDataGridProps"
/>

### DataGrid

The main data grid component with virtualization and editing capabilities.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridProps"
/>

### DataGridColumnHeader

Custom header component for columns with sorting and context menu.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridColumnHeaderProps"
/>

### DataGridCell

Cell router component that determines which cell variant to render based on column metadata.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridCellProps"
/>

### DataGridCellWrapper

Wrapper component that handles cell interactions, focus, selection, and editing state.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridCellWrapperProps"
/>

### DataGridCellVariants

Individual cell variant components for different data types. Each variant wraps its content in `DataGridCellWrapper`.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridCellVariantProps"
/>

Available cell variants:
- **ShortTextCell**: Single-line text input with contentEditable
- **LongTextCell**: Multi-line textarea in a popover
- **NumberCell**: Numeric input with min/max/step support
- **SelectCell**: Dropdown select with predefined options
- **MultiSelectCell**: Multi-select with badges and command palette
- **CheckboxCell**: Boolean checkbox input
- **DateCell**: Date picker with calendar popover

#### Creating Custom Cell Variants

You can create custom cell variants by implementing the `DataGridCellVariantProps` interface and wrapping your content in `DataGridCellWrapper`:

```tsx
import { DataGridCellWrapper } from "@/components/data-grid/data-grid-cell-wrapper";
import type { DataGridCellVariantProps } from "@/types/docs/data-grid";

export function CustomCell<TData>({
  cell,
  table,
  rowIndex,
  columnId,
  isFocused,
  isEditing,
  isSelected,
}: DataGridCellVariantProps<TData>) {
  const value = cell.getValue() as YourType;
  
  return (
    <DataGridCellWrapper
      cell={cell}
      table={table}
      rowIndex={rowIndex}
      columnId={columnId}
      isEditing={isEditing}
      isFocused={isFocused}
      isSelected={isSelected}
    >
      {/* Your custom cell content */}
    </DataGridCellWrapper>
  );
}
```

### DataGridRow

Row component that renders virtualized rows.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridRowProps"
/>

### DataGridSearch

Search component with keyboard shortcuts and navigation.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridSearchProps"
/>

### DataGridContextMenu

Context menu component for row and cell actions.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridContextMenuProps"
/>

### DataGridSortMenu

Sort menu component for column sorting.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridSortMenuProps"
/>

### DataGridRowHeightMenu

Row height menu component for row height adjustment.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridRowHeightMenuProps"
/>

### DataGridViewMenu

View menu component for column visibility control.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridViewMenuProps"
/>  

### DataGridKeyboardShortcuts

Keyboard shortcuts component for the data grid.

<AutoTypeTable
  path="./types/docs/data-grid.ts"
  name="DataGridKeyboardShortcutsProps"
/>

## Performance Considerations

- **Virtualization**: Only visible rows and columns are rendered
- **Debounced Updates**: Cell edits are debounced to prevent excessive re-renders
- **Memoization**: Column definitions and data should be memoized
- **Lazy Loading**: Consider implementing server-side pagination for large datasets

## Accessibility

The Data Grid follows WAI-ARIA guidelines for grid widgets:

- Full keyboard navigation support
- Screen reader announcements for cell changes
- Focus management during editing
- Proper ARIA labels and roles
- High contrast mode support

## Credits

- [TanStack Table](https://tanstack.com/table) - For the table state management.
- [shadcn/ui](https://ui.shadcn.com) - For the ui components.
- [Airtable](https://www.airtable.com) and [Glide Data Grid](https://grid.glideapps.com/) - For the inspiration.
